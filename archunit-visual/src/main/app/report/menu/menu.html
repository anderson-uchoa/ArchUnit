<link rel="import" href="settings.html">
<link rel="import" href="filter.html">

<template id="visualization-menu-template">
  <link rel="stylesheet" href="menu.css">

  <div class="tabs">
    <div id="filter" class="tab first">
      <div id="filterTab" class="tabcontent">
        <visualization-filter id="filter-menu"></visualization-filter>
      </div>
      <div class="title">Filter</div>
    </div>
    <div id="settings" class="tab second">
      <div id="settingsTab" class="tabcontent">
        <visualization-settings id='settings-menu'></visualization-settings>
      </div>
      <div class="title">Settings</div>
    </div>
    <div id="legend" class="tab third">
      <div id="legendTab" class="tabcontent">
        <p>??</p>
      </div>
      <div class="title">?</div>
    </div>
  </div>
</template>

<script>
  (function () {
    const webComponents = require('web-component-infrastructure');

    webComponents.defineCustomElement('visualization-menu', class extends HTMLElement {
      initializeSettings(settingsInit) {
        this.shadowRoot.querySelector('#settings-menu').initialize(settingsInit);
        return this;
      }

      onSettingsChanged(onChanged) {
        this.shadowRoot.querySelector('#settings-menu').onSettingsChanged(onChanged);
        return this;
      }

      onNodeFilterChanged(onChanged) {
        this.shadowRoot.querySelector('#filter-menu').onNodeFilterChanged(onChanged);
        return this;
      }

      onDependencyFilterChanged(onChanged) {
        this.shadowRoot.querySelector('#filter-menu').onDependencyFilterChanged(onChanged);
        return this;
      }
    });
  }());
</script>